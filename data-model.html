<!DOCTYPE html>
<html lang="en" class="doc-page">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Primer - Data Model Reference</title>
  
  <!-- CSS Reset & Variables -->
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/reset.css">

  <!-- Base Styles -->
  <link rel="stylesheet" href="css/typography.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/navigation.css">

  <!-- Components -->
  <link rel="stylesheet" href="css/cards.css">
  <link rel="stylesheet" href="css/forms.css">
  <link rel="stylesheet" href="css/components.css">

  <!-- Documentation Pages -->
  <link rel="stylesheet" href="css/documentation.css">

  <!-- Utilities (last for override capability) -->
  <link rel="stylesheet" href="css/utilities.css">
</head>
<body>
  <nav class="top-navbar">
    <div class="navbar-left">
      <a href="index.html#/dashboard" class="logo">
        <img src="img/logo.png" alt="Primer" class="logo-img">
      </a>
      
      <div class="navbar-links">
        <a href="index.html#/dashboard" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
            <rect x="1" y="1" width="6" height="6" rx="1"/>
            <rect x="9" y="1" width="6" height="6" rx="1"/>
            <rect x="1" y="9" width="6" height="6" rx="1"/>
            <rect x="9" y="9" width="6" height="6" rx="1"/>
          </svg>
          <span>Dashboard</span>
        </a>
        <a href="index.html#/monitors" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
            <rect x="1" y="2" width="14" height="10" rx="1"/>
            <path d="M5 14h6M8 12v2"/>
            <path d="M4 6h2M4 8h3M10 5l2 2-2 2"/>
          </svg>
          <span>Monitors</span>
        </a>
        <a href="index.html#/workspaces" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
            <rect x="1" y="1" width="14" height="14" rx="1"/>
            <path d="M1 5h14"/>
            <path d="M5 5v10"/>
          </svg>
          <span>Workspaces</span>
        </a>
        <a href="index.html#/search" class="nav-link">
          <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
            <circle cx="7" cy="7" r="4.5"/>
            <path d="M10.5 10.5L14 14"/>
          </svg>
          <span>Search</span>
        </a>
      </div>
    </div>
    
    <!-- User Avatar with Tools Dropdown -->
    <div class="navbar-right">
      <!-- Data Dropdown -->
      <div class="nav-dropdown data-dropdown">
        <button class="nav-dropdown-trigger">
          <span>Data</span>
          <svg class="dropdown-arrow" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
            <path d="M4 6l4 4 4-4"/>
          </svg>
        </button>
        <div class="nav-dropdown-menu">
          <a href="index.html#/narratives" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <path d="M2 2h12v12H2z" rx="1"/>
              <path d="M4 5h8M4 8h8M4 11h5"/>
            </svg>
            <span>Narratives</span>
          </a>
          <a href="index.html#/factions" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <circle cx="8" cy="5" r="2.5"/>
              <circle cx="4" cy="11" r="2"/>
              <circle cx="12" cy="11" r="2"/>
              <path d="M6 6.5L4.5 9M10 6.5l1.5 2.5"/>
            </svg>
            <span>Factions</span>
          </a>
          <a href="index.html#/locations" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <path d="M8 1C5.2 1 3 3.2 3 6c0 4 5 9 5 9s5-5 5-9c0-2.8-2.2-5-5-5z"/>
              <circle cx="8" cy="6" r="2"/>
            </svg>
            <span>Locations</span>
          </a>
          <a href="index.html#/events" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <rect x="2" y="3" width="12" height="11" rx="1"/>
              <path d="M2 6h12M5 1v3M11 1v3"/>
            </svg>
            <span>Events</span>
          </a>
          <a href="index.html#/entities" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <circle cx="8" cy="4" r="2.5"/>
              <path d="M3 14c0-3 2.2-5 5-5s5 2 5 5"/>
            </svg>
            <span>People & Orgs</span>
          </a>
        </div>
      </div>
      
      <div class="nav-dropdown avatar-dropdown">
        <button class="avatar-trigger">
          <span class="avatar-initials">JD</span>
        </button>
        <div class="nav-dropdown-menu avatar-menu">
          <div class="avatar-menu-header">
            <span class="avatar-name">Jane Doe</span>
            <span class="avatar-email">jane.doe@primer.ai</span>
          </div>
          <div class="avatar-menu-divider"></div>
          <a href="index.html#/editor" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <path d="M11 2l3 3-9 9H2v-3l9-9z"/>
            </svg>
            <span>Data Editor</span>
          </a>
          <a href="data-model.html" class="nav-link active">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <ellipse cx="8" cy="4" rx="5" ry="2"/>
              <path d="M3 4v8c0 1.1 2.2 2 5 2s5-.9 5-2V4"/>
              <path d="M3 8c0 1.1 2.2 2 5 2s5-.9 5-2"/>
            </svg>
            <span>Data Model</span>
          </a>
          <a href="component-demos.html" class="nav-link">
            <svg class="nav-icon" viewBox="0 0 16 16" fill="none" stroke="var(--text-secondary)" stroke-width="1">
              <rect x="1" y="1" width="5" height="5" rx="1"/>
              <rect x="10" y="1" width="5" height="5" rx="1"/>
              <rect x="1" y="10" width="5" height="5" rx="1"/>
              <rect x="10" y="10" width="5" height="5" rx="1"/>
            </svg>
            <span>Component Demos</span>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <main class="doc-main">
    <section class="page-intro">
      <h1 class="page-title">Data Model Documentation</h1>
      <p class="page-description">
        This reference documents the complete data model for the Primer Intelligence Dashboard.
        The model is organized into three interconnected domains: the Core Intelligence Model for tracking 
        narratives and entities, the Document & Collaboration Model for source materials and team annotations, 
        and the Monitor & Alert System for automated tracking.
      </p>
    </section>

    <!-- Section Navigation -->
    <nav class="model-nav" style="margin-bottom: 16px;">
      <a href="#core-intelligence" class="nav-pill" style="background: var(--bg-tertiary); border-color: var(--accent-primary);">
        <span class="dot" style="background: var(--accent-primary)"></span>
        Core Intelligence Model
      </a>
      <a href="#document-collaboration" class="nav-pill" style="background: var(--bg-tertiary); border-color: #06b6d4;">
        <span class="dot" style="background: #06b6d4"></span>
        Document & Collaboration
      </a>
      <a href="#monitor-alert" class="nav-pill" style="background: var(--bg-tertiary); border-color: #14b8a6;">
        <span class="dot" style="background: #14b8a6"></span>
        Monitor & Alert System
      </a>
    </nav>

    <!-- Entity Quick Nav -->
    <nav class="model-nav">
      <span style="color: var(--text-muted); font-size: 12px; margin-right: 8px;">Core:</span>
      <a href="#mission" class="nav-pill">
        <span class="dot" style="background: var(--color-mission)"></span>
        Mission
      </a>
      <a href="#narrative" class="nav-pill">
        <span class="dot" style="background: var(--color-narrative)"></span>
        Narrative
      </a>
      <a href="#subnarrative" class="nav-pill">
        <span class="dot" style="background: #f87171"></span>
        Theme
      </a>
      <a href="#topic" class="nav-pill">
        <span class="dot" style="background: #8b5cf6"></span>
        Topic
      </a>
      <a href="#faction" class="nav-pill">
        <span class="dot" style="background: var(--color-faction)"></span>
        Faction
      </a>
      <a href="#person" class="nav-pill">
        <span class="dot" style="background: var(--color-entity)"></span>
        Person
      </a>
      <a href="#organization" class="nav-pill">
        <span class="dot" style="background: #a855f7"></span>
        Organization
      </a>
      <a href="#location" class="nav-pill">
        <span class="dot" style="background: var(--color-location)"></span>
        Location
      </a>
      <a href="#event" class="nav-pill">
        <span class="dot" style="background: var(--color-event)"></span>
        Event
      </a>
      <a href="#subevent" class="nav-pill">
        <span class="dot" style="background: #60a5fa"></span>
        SubEvent
      </a>
    </nav>
    <nav class="model-nav">
      <span style="color: var(--text-muted); font-size: 12px; margin-right: 8px;">Docs:</span>
      <a href="#document" class="nav-pill">
        <span class="dot" style="background: #06b6d4"></span>
        Document
      </a>
      <a href="#publisher" class="nav-pill">
        <span class="dot" style="background: #b45309"></span>
        Publisher
      </a>
      <a href="#user" class="nav-pill">
        <span class="dot" style="background: #10b981"></span>
        User
      </a>
      <a href="#highlight" class="nav-pill">
        <span class="dot" style="background: #fbbf24"></span>
        Highlight
      </a>
      <a href="#comment" class="nav-pill">
        <span class="dot" style="background: #f472b6"></span>
        Comment
      </a>
      <a href="#classification" class="nav-pill">
        <span class="dot" style="background: #ef4444"></span>
        Classification
      </a>
      <span style="color: var(--text-muted); font-size: 12px; margin-left: 16px; margin-right: 8px;">Monitors:</span>
      <a href="#monitor" class="nav-pill">
        <span class="dot" style="background: #14b8a6"></span>
        Monitor
      </a>
      <a href="#alert" class="nav-pill">
        <span class="dot" style="background: #f97316"></span>
        Alert
      </a>
    </nav>

    <!-- ============================================ -->
    <!-- SECTION 1: CORE INTELLIGENCE MODEL -->
    <!-- ============================================ -->
    <section id="core-intelligence" class="erd-section" style="margin-top: 32px;">
      <h2 class="section-title">Core Intelligence Model</h2>
      <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 14px;">
        The analytical domain model for tracking narratives, themes, and their relationships to real-world entities. 
        This is the foundation for intelligence analysis and narrative tracking.
      </p>
      <div class="erd-container">
        <svg class="erd-diagram" viewBox="0 0 1100 650">
          <!-- Definitions -->
          <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#606070"/>
            </marker>
            <marker id="diamond" markerWidth="12" markerHeight="12" refX="6" refY="6" orient="auto">
              <polygon points="6 0, 12 6, 6 12, 0 6" fill="#606070"/>
            </marker>
            <marker id="crowfoot" markerWidth="12" markerHeight="12" refX="0" refY="6" orient="auto">
              <path d="M 12 6 L 0 0 M 12 6 L 0 6 M 12 6 L 0 12" stroke="#606070" stroke-width="1.5" fill="none"/>
            </marker>
          </defs>

          <!-- Connection Lines -->
          <!-- Mission to Narrative (1:N) -->
          <path d="M 200 85 L 200 135" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="210" y="115" fill="#9090a0" font-size="9">contains</text>
          
          <!-- Narrative to Theme (1:N) -->
          <path d="M 200 185 L 200 235" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="210" y="215" fill="#9090a0" font-size="9">has</text>
          
          <!-- Narrative to Faction (N:M) -->
          <path d="M 280 160 L 380 160" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="310" y="152" fill="#9090a0" font-size="9">mentions</text>
          
          <!-- Narrative to Person (N:M) -->
          <path d="M 280 170 L 460 280" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Narrative to Organization (N:M) -->
          <path d="M 280 175 L 620 280" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Narrative to Location (N:M) -->
          <path d="M 200 185 L 280 380" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="215" y="290" fill="#9090a0" font-size="9">references</text>
          
          <!-- Narrative to Event (N:M) -->
          <path d="M 200 185 L 460 380" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Theme connections (similar to Narrative) -->
          <path d="M 280 260 L 380 180" stroke="#505058" stroke-width="1" fill="none" stroke-dasharray="3,3"/>
          <path d="M 280 270 L 460 300" stroke="#505058" stroke-width="1" fill="none" stroke-dasharray="3,3"/>
          <path d="M 280 275 L 620 300" stroke="#505058" stroke-width="1" fill="none" stroke-dasharray="3,3"/>
          <path d="M 230 285 L 280 400" stroke="#505058" stroke-width="1" fill="none" stroke-dasharray="3,3"/>
          <path d="M 240 285 L 460 400" stroke="#505058" stroke-width="1" fill="none" stroke-dasharray="3,3"/>
          
          <!-- Event to SubEvent (1:N) -->
          <path d="M 540 420 L 540 485" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="550" y="455" fill="#9090a0" font-size="9">contains</text>
          
          <!-- Event to Location (N:1) -->
          <path d="M 460 410 L 360 410" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="390" y="402" fill="#9090a0" font-size="9">occurs_at</text>
          
          <!-- Event to Person (N:M) -->
          <path d="M 500 380 L 500 335" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="508" y="358" fill="#9090a0" font-size="9">involves</text>
          
          <!-- Event to Organization (N:M) -->
          <path d="M 580 380 L 660 335" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Person to Location (N:M) -->
          <path d="M 460 310 L 360 390" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Person to Person (N:M self) -->
          <path d="M 460 300 C 420 280, 420 320, 460 320" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="408" y="305" fill="#9090a0" font-size="8">related_to</text>
          
          <!-- Person to Organization (N:M) -->
          <path d="M 580 310 L 660 310" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="600" y="302" fill="#9090a0" font-size="9">affiliated</text>
          
          <!-- Person to Faction (N:M) -->
          <path d="M 500 285 L 500 185" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Organization to Location (N:M) -->
          <path d="M 660 325 L 360 400" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Organization to Organization (N:M self) -->
          <path d="M 780 300 C 820 280, 820 320, 780 320" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="825" y="305" fill="#9090a0" font-size="8">related_to</text>
          
          <!-- Organization to Faction (N:M) -->
          <path d="M 660 290 L 580 180" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Faction to Faction (N:M self) -->
          <path d="M 580 160 C 620 140, 620 180, 580 180" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="625" y="165" fill="#9090a0" font-size="8">overlaps</text>

          <!-- Entity Boxes -->
          <!-- Mission -->
          <g transform="translate(120, 35)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#8b5cf6" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#8b5cf6"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Mission</text>
          </g>

          <!-- Narrative -->
          <g transform="translate(120, 135)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#ef4444" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#ef4444"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Narrative</text>
          </g>

          <!-- Theme -->
          <g transform="translate(120, 235)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#f87171" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#f87171"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Theme</text>
          </g>

          <!-- Topic -->
          <g transform="translate(720, 135)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#8b5cf6" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#8b5cf6"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Topic</text>
          </g>

          <!-- Faction -->
          <g transform="translate(420, 135)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#f59e0b" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#f59e0b"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Faction</text>
          </g>

          <!-- FactionOverlap (smaller, between factions) -->
          <g transform="translate(420, 60)">
            <rect width="120" height="35" rx="4" fill="#ffffff" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,2"/>
            <circle cx="16" cy="17" r="6" fill="#f59e0b" fill-opacity="0.5"/>
            <text x="30" y="22" fill="#333333" font-size="11" font-weight="500">FactionOverlap</text>
          </g>

          <!-- Person -->
          <g transform="translate(420, 285)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#ec4899" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#ec4899"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Person</text>
          </g>

          <!-- Organization -->
          <g transform="translate(660, 285)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#a855f7" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#a855f7"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Organization</text>
          </g>

          <!-- Location -->
          <g transform="translate(200, 380)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#10b981" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#10b981"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Location</text>
          </g>

          <!-- Event -->
          <g transform="translate(460, 380)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#3b82f6" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#3b82f6"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Event</text>
          </g>

          <!-- SubEvent -->
          <g transform="translate(460, 485)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#60a5fa" stroke-width="2"/>
            <circle cx="20" cy="25" r="8" fill="#60a5fa"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">SubEvent</text>
          </g>

          <!-- Document (reference to next section) -->
          <g transform="translate(720, 235)">
            <rect width="160" height="50" rx="6" fill="#ffffff" stroke="#06b6d4" stroke-width="2" stroke-dasharray="6,3"/>
            <circle cx="20" cy="25" r="8" fill="#06b6d4"/>
            <text x="40" y="30" fill="#333333" font-size="14" font-weight="600">Document</text>
          </g>

          <!-- Topic connections -->
          <!-- Topic aggregates Documents -->
          <path d="M 800 185 L 800 235" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="810" y="215" fill="#9090a0" font-size="9">aggregates</text>
          
          <!-- Document evidences Narrative -->
          <path d="M 720 260 L 280 160" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="500" y="195" fill="#9090a0" font-size="9">evidences</text>
          
          <!-- FactionOverlap to Faction -->
          <path d="M 480 95 L 480 135" stroke="#606070" stroke-width="1" fill="none"/>
          <text x="488" y="118" fill="#9090a0" font-size="8">joins</text>

          <!-- Legend -->
          <g transform="translate(880, 380)">
            <text x="0" y="0" fill="#9090a0" font-size="11" font-weight="500">LEGEND</text>
            <line x1="0" y1="25" x2="40" y2="25" stroke="#606070" stroke-width="1.5"/>
            <text x="50" y="29" fill="#606070" font-size="10">One-to-Many</text>
            <line x1="0" y1="50" x2="40" y2="50" stroke="#606070" stroke-width="1.5" stroke-dasharray="4,4"/>
            <text x="50" y="54" fill="#606070" font-size="10">Many-to-Many</text>
            <line x1="0" y1="75" x2="40" y2="75" stroke="#505058" stroke-width="1" stroke-dasharray="3,3"/>
            <text x="50" y="79" fill="#606070" font-size="10">Theme links</text>
            <line x1="0" y1="100" x2="40" y2="100" stroke="#06b6d4" stroke-width="1.5" stroke-dasharray="6,3"/>
            <text x="50" y="104" fill="#06b6d4" font-size="10">Cross-section ref</text>
          </g>
        </svg>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- SECTION 3: MONITOR & ALERT SYSTEM -->
    <!-- ============================================ -->
    <section id="monitor-alert" class="erd-section" style="margin-top: 48px;">
      <h2 class="section-title">Monitor & Alert System</h2>
      <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 14px;">
        Automated tracking and notification system. Monitors define scoped watchlists with configurable triggers. 
        When conditions are met, alerts are generated referencing the relevant narratives, themes, events, and sub-events that match the criteria.
      </p>
      <div class="erd-container">
        <svg class="erd-diagram" viewBox="0 0 1100 450">
          <!-- Connection Lines -->
          <!-- Monitor to scope entities -->
          <path d="M 200 200 L 350 60" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 200 200 L 350 110" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 200 200 L 350 160" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 200 200 L 350 210" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 200 200 L 350 260" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 200 200 L 350 310" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="260" y="130" fill="#9090a0" font-size="10">watches</text>
          
          <!-- Monitor to Alert -->
          <path d="M 200 230 L 200 340" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="210" y="290" fill="#9090a0" font-size="10">generates</text>
          
          <!-- Monitor to Matched Results -->
          <path d="M 220 200 L 580 80" stroke="#14b8a6" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 220 200 L 580 140" stroke="#14b8a6" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 220 200 L 580 200" stroke="#14b8a6" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 220 200 L 580 260" stroke="#14b8a6" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="380" y="160" fill="#14b8a6" font-size="10">matches (computed)</text>
          
          <!-- Alert to Narrative/Event -->
          <path d="M 280 370 L 580 80" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 280 370 L 580 140" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 280 370 L 580 200" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <path d="M 280 370 L 580 260" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="420" y="340" fill="#9090a0" font-size="10">references</text>

          <!-- Scope Box -->
          <rect x="330" y="30" width="200" height="310" rx="8" fill="none" stroke="#3a3a42" stroke-width="1" stroke-dasharray="6,3"/>
          <text x="345" y="55" fill="#606070" font-size="11" font-weight="500">SCOPE ENTITIES</text>

          <!-- Matched Results Box -->
          <rect x="560" y="50" width="170" height="240" rx="8" fill="none" stroke="#14b8a6" stroke-width="1" stroke-dasharray="6,3"/>
          <text x="575" y="75" fill="#14b8a6" font-size="11" font-weight="500">MATCHED RESULTS</text>

          <!-- Monitor -->
          <g transform="translate(80, 175)">
            <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#14b8a6" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#14b8a6"/>
            <text x="36" y="30" fill="#333333" font-size="13" font-weight="600">Monitor</text>
          </g>

          <!-- Alert -->
          <g transform="translate(80, 345)">
            <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#f97316" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#f97316"/>
            <text x="36" y="30" fill="#333333" font-size="13" font-weight="600">Alert</text>
          </g>

          <!-- Scope Entities (watchable types) -->
          <g transform="translate(350, 50)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#ef4444" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#ef4444"/>
            <text x="26" y="18" fill="#333333" font-size="10">Narrative</text>
          </g>
          <g transform="translate(350, 85)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#f87171" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#f87171"/>
            <text x="26" y="18" fill="#333333" font-size="10">Theme</text>
          </g>
          <g transform="translate(350, 120)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#f59e0b" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#f59e0b"/>
            <text x="26" y="18" fill="#333333" font-size="10">Faction</text>
          </g>
          <g transform="translate(350, 155)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#ec4899" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#ec4899"/>
            <text x="26" y="18" fill="#333333" font-size="10">Person</text>
          </g>
          <g transform="translate(350, 190)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#a855f7" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#a855f7"/>
            <text x="26" y="18" fill="#333333" font-size="10">Organization</text>
          </g>
          <g transform="translate(350, 225)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#10b981" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#10b981"/>
            <text x="26" y="18" fill="#333333" font-size="10">Location</text>
          </g>
          <g transform="translate(350, 260)">
            <rect width="120" height="28" rx="4" fill="#ffffff" stroke="#3b82f6" stroke-width="1.5"/>
            <circle cx="14" cy="14" r="5" fill="#3b82f6"/>
            <text x="26" y="18" fill="#333333" font-size="10">Event</text>
          </g>

          <!-- Matched Results -->
          <g transform="translate(580, 85)">
            <rect width="130" height="32" rx="4" fill="#ffffff" stroke="#ef4444" stroke-width="1.5"/>
            <circle cx="14" cy="16" r="5" fill="#ef4444"/>
            <text x="26" y="20" fill="#333333" font-size="10">Narrative</text>
          </g>
          <g transform="translate(580, 125)">
            <rect width="130" height="32" rx="4" fill="#ffffff" stroke="#ef4444" stroke-width="1.5" stroke-dasharray="3,2"/>
            <circle cx="14" cy="16" r="5" fill="#ef4444" opacity="0.6"/>
            <text x="26" y="20" fill="#333333" font-size="10">Theme</text>
          </g>
          <g transform="translate(580, 175)">
            <rect width="130" height="32" rx="4" fill="#ffffff" stroke="#3b82f6" stroke-width="1.5"/>
            <circle cx="14" cy="16" r="5" fill="#3b82f6"/>
            <text x="26" y="20" fill="#333333" font-size="10">Event</text>
          </g>
          <g transform="translate(580, 215)">
            <rect width="130" height="32" rx="4" fill="#ffffff" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="3,2"/>
            <circle cx="14" cy="16" r="5" fill="#3b82f6" opacity="0.6"/>
            <text x="26" y="20" fill="#333333" font-size="10">SubEvent</text>
          </g>

          <!-- Trigger Types Label -->
          <g transform="translate(760, 80)">
            <text x="0" y="0" fill="#9090a0" font-size="11" font-weight="500">TRIGGER TYPES</text>
            <text x="0" y="22" fill="#606070" font-size="10">• Volume Spike</text>
            <text x="0" y="38" fill="#606070" font-size="10">• Sentiment Shift</text>
            <text x="0" y="54" fill="#606070" font-size="10">• New Narrative</text>
            <text x="0" y="70" fill="#606070" font-size="10">• New Event</text>
            <text x="0" y="86" fill="#606070" font-size="10">• Faction Engagement</text>
          </g>

          <!-- Options Label -->
          <g transform="translate(760, 195)">
            <text x="0" y="0" fill="#9090a0" font-size="11" font-weight="500">OPTIONS</text>
            <text x="0" y="22" fill="#606070" font-size="10">• includeSubEvents</text>
            <text x="0" y="38" fill="#606070" font-size="10">• includeSubNarratives</text>
            <text x="0" y="54" fill="#606070" font-size="10">• includeRelatedEvents</text>
          </g>

          <!-- Legend -->
          <g transform="translate(760, 290)">
            <text x="0" y="0" fill="#9090a0" font-size="11" font-weight="500">LEGEND</text>
            <line x1="0" y1="20" x2="30" y2="20" stroke="#606070" stroke-width="1.5"/>
            <text x="38" y="24" fill="#606070" font-size="10">One-to-Many</text>
            <line x1="0" y1="42" x2="30" y2="42" stroke="#606070" stroke-width="1.5" stroke-dasharray="4,4"/>
            <text x="38" y="46" fill="#606070" font-size="10">Many-to-Many</text>
            <line x1="0" y1="64" x2="30" y2="64" stroke="#14b8a6" stroke-width="1.5" stroke-dasharray="4,4"/>
            <text x="38" y="68" fill="#14b8a6" font-size="10">Computed</text>
          </g>
        </svg>
      </div>
    </section>

    <!-- Entity Definitions -->
    <section class="entities-section">
      <h2 class="section-title">Entity Definitions</h2>
      
      <div class="entities-grid">
        <!-- Mission -->
        <article id="mission" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(139, 92, 246, 0.2); color: var(--color-mission);">◉</div>
            <div class="entity-info">
              <h3>Mission</h3>
              <p>Top-level container for intelligence operations</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier for the mission</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Mission name/code name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed mission description and objectives</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">status</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Current operational status</p>
                  <p class="field-enum">
                    <code>active</code>
                    <code>completed</code>
                    <code>archived</code>
                    <code>planned</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">startDate</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">Mission start date (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">endDate</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">Mission end date (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">createdAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">Record creation timestamp</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">updatedAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">Last modification timestamp</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Narrative -->
        <article id="narrative" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(239, 68, 68, 0.2); color: var(--color-narrative);">◈</div>
            <div class="entity-info">
              <h3>Narrative</h3>
              <p>Disinformation or propaganda narrative being tracked</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">missionId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to parent Mission</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Short title identifying the narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed description of the narrative theme and messaging</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">status</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Current tracking status</p>
                  <p class="field-enum">
                    <code>emerging</code>
                    <code>active</code>
                    <code>declining</code>
                    <code>dormant</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">threatLevel</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Assessed threat/impact level</p>
                  <p class="field-enum">
                    <code>critical</code>
                    <code>high</code>
                    <code>medium</code>
                    <code>low</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">firstSeen</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">Date narrative was first observed</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">lastSeen</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">Date of most recent observation</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">tags</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Classification tags for categorization</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">factionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Factions mentioned in this narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">personIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">People mentioned in this narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Organizations mentioned in this narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Locations referenced in this narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">eventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events referenced in this narrative</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Faction -->
        <article id="faction" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(245, 158, 11, 0.2); color: var(--color-faction);">◇</div>
            <div class="entity-info">
              <h3>Faction</h3>
              <p>Groups or organizations involved in narrative operations</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Faction name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">aliases</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Alternative names or designations</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Faction classification</p>
                  <p class="field-enum">
                    <code>state</code>
                    <code>non-state</code>
                    <code>proxy</code>
                    <code>commercial</code>
                    <code>unknown</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Background and operational profile</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">countryOfOrigin</span>
                <div class="field-meta">
                  <span class="field-type">string (ISO 3166)</span>
                  <p class="field-desc">Country code of faction origin</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">capabilities</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Known operational capabilities</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">overlappingFactionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Other factions this faction overlaps with</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">color</span>
                <div class="field-meta">
                  <span class="field-type">string (hex)</span>
                  <p class="field-desc">Display color for visualizations</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Location -->
        <article id="location" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(16, 185, 129, 0.2); color: var(--color-location);">◎</div>
            <div class="entity-info">
              <h3>Location</h3>
              <p>Geographic locations relevant to operations</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Location name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Location classification</p>
                  <p class="field-enum">
                    <code>country</code>
                    <code>region</code>
                    <code>city</code>
                    <code>facility</code>
                    <code>virtual</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">coordinates</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Geographic coordinates { lat: number, lng: number }</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">countryCode</span>
                <div class="field-meta">
                  <span class="field-type">string (ISO 3166)</span>
                  <p class="field-desc">ISO country code</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Location details and significance</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">parentId</span>
                <div class="field-meta">
                  <span class="field-type">string (UUID)</span>
                  <p class="field-desc">Parent location for hierarchical nesting</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Event -->
        <article id="event" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(59, 130, 246, 0.2); color: var(--color-event);">◆</div>
            <div class="entity-info">
              <h3>Event</h3>
              <p>Significant events referenced by narratives</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Event title</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed event description</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Event classification</p>
                  <p class="field-enum">
                    <code>publication</code>
                    <code>broadcast</code>
                    <code>social_media</code>
                    <code>physical</code>
                    <code>cyber</code>
                    <code>other</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">date</span>
                <div class="field-meta">
                  <span class="field-type required">datetime</span>
                  <p class="field-desc">Event timestamp (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationId</span>
                <div class="field-meta">
                  <span class="field-type">string (UUID)</span>
                  <p class="field-desc">Foreign key to Location (occurs_at)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">personIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">People involved in this event</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Organizations involved in this event</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">impact</span>
                <div class="field-meta">
                  <span class="field-type">enum</span>
                  <p class="field-desc">Assessed impact level</p>
                  <p class="field-enum">
                    <code>high</code>
                    <code>medium</code>
                    <code>low</code>
                  </p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Person -->
        <article id="person" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(236, 72, 153, 0.2); color: var(--color-entity);">◐</div>
            <div class="entity-info">
              <h3>Person</h3>
              <p>Individuals involved in or mentioned by narratives</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Person's name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">aliases</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Known aliases or alternate identities</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">role</span>
                <div class="field-meta">
                  <span class="field-type">enum</span>
                  <p class="field-desc">Role in operations</p>
                  <p class="field-enum">
                    <code>operator</code>
                    <code>amplifier</code>
                    <code>target</code>
                    <code>influencer</code>
                    <code>unknown</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Background information and profile</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">socialHandles</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Social media handles { platform: handle }</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedPersonIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Related people (related_to relationship)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Affiliated organizations</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">factionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Affiliated factions</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Locations mentioned alongside this person</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">eventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events this person is involved in</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Organization -->
        <article id="organization" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(168, 85, 247, 0.2); color: #a855f7;">⬡</div>
            <div class="entity-info">
              <h3>Organization</h3>
              <p>Organizations mentioned in or related to narratives</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Organization name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type">enum</span>
                  <p class="field-desc">Organization classification</p>
                  <p class="field-enum">
                    <code>government</code>
                    <code>corporate</code>
                    <code>non_profit</code>
                    <code>media_outlet</code>
                    <code>other</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">aliases</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Known aliases or alternate names</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Background information and profile</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">countryCode</span>
                <div class="field-meta">
                  <span class="field-type">string (ISO 3166)</span>
                  <p class="field-desc">Country of origin/headquarters</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedOrganizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Related organizations</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">factionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Affiliated factions</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Locations mentioned alongside this organization</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Theme -->
        <article id="subnarrative" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(248, 113, 113, 0.2); color: #f87171;">◈</div>
            <div class="entity-info">
              <h3>Theme</h3>
              <p>Sub-components or variations of a parent narrative</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">narrativeId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to parent Narrative</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Short title identifying the theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed description of the theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">factionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Factions mentioned in this theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">personIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">People mentioned in this theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Organizations mentioned in this theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Locations referenced in this theme</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">eventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events referenced in this theme</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- SubEvent -->
        <article id="subevent" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(96, 165, 250, 0.2); color: #60a5fa;">◆</div>
            <div class="entity-info">
              <h3>SubEvent</h3>
              <p>Sub-components or related occurrences within an event</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">eventId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to parent Event</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Sub-event title</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed sub-event description</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">date</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">Sub-event timestamp (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">sequence</span>
                <div class="field-meta">
                  <span class="field-type">number</span>
                  <p class="field-desc">Order within parent event</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Topic -->
        <article id="topic" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(139, 92, 246, 0.2); color: #8b5cf6;">◈</div>
            <div class="entity-info">
              <h3>Topic</h3>
              <p>Aggregated story clusters from documents with time-based volume tracking</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">headline</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Main headline summarizing the topic</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">bulletPoints</span>
                <div class="field-meta">
                  <span class="field-type">string[]</span>
                  <p class="field-desc">Key summary points for the topic</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">documentIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Documents that comprise this topic cluster</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">startDate</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">When this topic first emerged (ISO 8601 date)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">endDate</span>
                <div class="field-meta">
                  <span class="field-type">date</span>
                  <p class="field-desc">When this topic ended (null if ongoing)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">volumeOverTime</span>
                <div class="field-meta">
                  <span class="field-type">array</span>
                  <p class="field-desc">Daily volume data: <code>[{ date, volume }]</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">createdAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">Record creation timestamp</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- FactionOverlap -->
        <article id="factionoverlap" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(245, 158, 11, 0.2); color: var(--color-faction);">◇</div>
            <div class="entity-info">
              <h3>FactionOverlap</h3>
              <p>Represents overlapping membership or shared sentiment between factions</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">factionIds</span>
                <div class="field-meta">
                  <span class="field-type required">string[] (UUID)</span>
                  <p class="field-desc">The factions that overlap (typically two)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">overlapSize</span>
                <div class="field-meta">
                  <span class="field-type">number</span>
                  <p class="field-desc">Estimated count of shared members</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">sharedSentiment</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Shared sentiment by narrative: <code>{ narrativeId: sentimentScore }</code></p>
                </div>
              </li>
            </ul>
          </div>
        </article>
      </div>
    </section>

    <!-- ============================================ -->
    <!-- SECTION 2: DOCUMENT & COLLABORATION MODEL -->
    <!-- ============================================ -->
    <section id="document-collaboration" class="erd-section" style="margin-top: 48px;">
      <h2 class="section-title">Document & Collaboration Model</h2>
      <p style="color: var(--text-secondary); margin-bottom: 16px; font-size: 14px;">
        How we handle source materials, provenance, and team collaboration. Documents flow from Publishers, 
        and Users can annotate them with Highlights and Comments to facilitate collaborative analysis.
      </p>
      <div class="erd-container">
        <svg class="erd-diagram" viewBox="0 0 900 400">
          <!-- Definitions -->
          <defs>
            <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#606070"/>
            </marker>
          </defs>

          <!-- Connection Lines -->
          <!-- Publisher to Document -->
          <path d="M 200 120 L 350 120" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="255" y="112" fill="#9090a0" font-size="10">publishes</text>
          
          <!-- PublisherCategory to Publisher -->
          <path d="M 120 60 L 120 95" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="130" y="82" fill="#9090a0" font-size="9">groups</text>
          
          <!-- Document to Highlight -->
          <path d="M 500 145 L 620 200" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="545" y="165" fill="#9090a0" font-size="9">has</text>
          
          <!-- Document to Comment -->
          <path d="M 500 145 L 620 280" stroke="#606070" stroke-width="1.5" fill="none"/>
          
          <!-- User to Highlight -->
          <path d="M 780 120 L 700 200" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          <text x="735" y="155" fill="#9090a0" font-size="9">creates</text>
          
          <!-- User to Comment -->
          <path d="M 780 120 L 700 280" stroke="#606070" stroke-width="1.5" fill="none" stroke-dasharray="4,4"/>
          
          <!-- Comment to Reply (self) -->
          <path d="M 700 305 C 730 330, 730 350, 700 340" stroke="#606070" stroke-width="1" fill="none"/>
          <text x="735" y="340" fill="#9090a0" font-size="8">replies</text>
          
          <!-- Document to Classification -->
          <path d="M 430 145 L 430 200" stroke="#606070" stroke-width="1.5" fill="none"/>
          <text x="440" y="175" fill="#9090a0" font-size="9">classified</text>

          <!-- Entity Boxes -->
          <!-- PublisherCategory -->
          <g transform="translate(50, 35)">
            <rect width="140" height="40" rx="5" fill="#ffffff" stroke="#b45309" stroke-width="1.5"/>
            <circle cx="16" cy="20" r="6" fill="#b45309"/>
            <text x="30" y="25" fill="#333333" font-size="12" font-weight="500">PublisherCategory</text>
          </g>

          <!-- Publisher -->
          <g transform="translate(50, 95)">
            <rect width="150" height="50" rx="6" fill="#ffffff" stroke="#b45309" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#b45309"/>
            <text x="36" y="30" fill="#333333" font-size="14" font-weight="600">Publisher</text>
          </g>

          <!-- Document -->
          <g transform="translate(350, 95)">
            <rect width="150" height="50" rx="6" fill="#ffffff" stroke="#06b6d4" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#06b6d4"/>
            <text x="36" y="30" fill="#333333" font-size="14" font-weight="600">Document</text>
          </g>

          <!-- Classification -->
          <g transform="translate(370, 200)">
            <rect width="120" height="40" rx="5" fill="#ffffff" stroke="#ef4444" stroke-width="1.5"/>
            <circle cx="16" cy="20" r="6" fill="#ef4444"/>
            <text x="30" y="25" fill="#333333" font-size="12" font-weight="500">Classification</text>
          </g>

          <!-- User -->
          <g transform="translate(710, 95)">
            <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#10b981" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#10b981"/>
            <text x="36" y="30" fill="#333333" font-size="14" font-weight="600">User</text>
          </g>

          <!-- Highlight -->
          <g transform="translate(600, 200)">
            <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#fbbf24" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#fbbf24"/>
            <text x="36" y="30" fill="#333333" font-size="14" font-weight="600">Highlight</text>
          </g>

          <!-- Comment -->
          <g transform="translate(600, 280)">
            <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#f472b6" stroke-width="2"/>
            <circle cx="18" cy="25" r="8" fill="#f472b6"/>
            <text x="36" y="30" fill="#333333" font-size="14" font-weight="600">Comment</text>
          </g>

          <!-- Legend -->
          <g transform="translate(50, 280)">
            <text x="0" y="0" fill="#9090a0" font-size="11" font-weight="500">LEGEND</text>
            <line x1="0" y1="22" x2="35" y2="22" stroke="#606070" stroke-width="1.5"/>
            <text x="45" y="26" fill="#606070" font-size="10">One-to-Many</text>
            <line x1="0" y1="44" x2="35" y2="44" stroke="#606070" stroke-width="1.5" stroke-dasharray="4,4"/>
            <text x="45" y="48" fill="#606070" font-size="10">Created-by</text>
          </g>
        </svg>
      </div>
    </section>

    <!-- Document & Collaboration Entities -->
    <section class="entities-section">
      <div class="entities-grid">

        <!-- Monitor -->
        <article id="monitor" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(20, 184, 166, 0.2); color: #14b8a6;">◉</div>
            <div class="entity-info">
              <h3>Monitor</h3>
              <p>Automated rules for tracking entities and triggering alerts</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Display name for the monitor</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed description of what this monitor tracks</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope</span>
                <div class="field-meta">
                  <span class="field-type required">object</span>
                  <p class="field-desc">Defines what entities to watch. A monitor can watch any combination of the entity types below.</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.narrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch specific narratives for updates, volume spikes, or sentiment changes</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.themeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch specific themes (sub-narratives) for activity</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.factionIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch faction activity and engagement patterns</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.personIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch individuals for mentions in narratives and events</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch organizations for mentions and activity</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch geographic areas for narrative and event activity</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">scope.eventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Watch specific events for updates and related activity</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">options</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Configuration options for monitor behavior</p>
                  <p class="field-enum">
                    <code>includeSubEvents</code> <code>includeSubNarratives</code> <code>includeRelatedEvents</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">options.includeSubEvents</span>
                <div class="field-meta">
                  <span class="field-type">boolean</span>
                  <p class="field-desc">When true, include sub-events of matched events in results (default: true)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">options.includeSubNarratives</span>
                <div class="field-meta">
                  <span class="field-type">boolean</span>
                  <p class="field-desc">When true, include themes of matched narratives in results (default: true)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">options.includeRelatedEvents</span>
                <div class="field-meta">
                  <span class="field-type">boolean</span>
                  <p class="field-desc">When true, include events related to scoped entities (persons, orgs, locations) in results (default: true)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">triggers</span>
                <div class="field-meta">
                  <span class="field-type required">object</span>
                  <p class="field-desc">Conditions that generate alerts</p>
                  <p class="field-enum">
                    <code>newNarrative</code> <code>newEvent</code> <code>volumeSpike</code> <code>sentimentShift</code> <code>factionEngagement</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">triggers.volumeSpike</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Volume threshold trigger { threshold: number, timeWindow: string }</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">triggers.sentimentShift</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Sentiment change trigger { threshold: number, direction: enum }</p>
                  <p class="field-enum">
                    Direction: <code>positive</code> <code>negative</code> <code>any</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">triggers.factionEngagement</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Faction activity trigger { factionIds: string[], threshold: number }</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">enabled</span>
                <div class="field-meta">
                  <span class="field-type required">boolean</span>
                  <p class="field-desc">Whether the monitor is currently active</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">createdAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">When the monitor was created (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">lastTriggered</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">When the monitor last generated an alert (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">matchedNarrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Narratives currently matching monitor criteria (computed at runtime)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">matchedSubNarrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Themes currently matching monitor criteria (computed at runtime)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">matchedEventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events currently matching monitor criteria (computed at runtime)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">matchedSubEventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Sub-events currently matching monitor criteria (computed at runtime, when options.includeSubEvents is true)</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Alert -->
        <article id="alert" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(249, 115, 22, 0.2); color: #f97316;">⚡</div>
            <div class="entity-info">
              <h3>Alert</h3>
              <p>Notifications generated when monitor conditions are met</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">monitorId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to the Monitor that generated this alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Type of trigger that fired</p>
                  <p class="field-enum">
                    <code>volume_spike</code> <code>sentiment_shift</code> <code>new_narrative</code> <code>new_event</code> <code>faction_engagement</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Short summary of the alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">description</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Detailed description of what triggered the alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">severity</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Alert priority level</p>
                  <p class="field-enum">
                    <code>critical</code> <code>high</code> <code>medium</code> <code>low</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">triggeredAt</span>
                <div class="field-meta">
                  <span class="field-type required">datetime</span>
                  <p class="field-desc">When the alert was generated (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">acknowledged</span>
                <div class="field-meta">
                  <span class="field-type">boolean</span>
                  <p class="field-desc">Whether the alert has been reviewed</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedNarrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Narratives relevant to this alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedEventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events relevant to this alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedSubNarrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Themes relevant to this alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">relatedSubEventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Sub-events relevant to this alert</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">metadata</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Trigger-specific data (e.g., volume count, sentiment delta)</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Document -->
        <article id="document" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(6, 182, 212, 0.2); color: #06b6d4;">▤</div>
            <div class="entity-info">
              <h3>Document</h3>
              <p>Documents providing evidence for narratives. Supports multiple document types with type-specific fields.</p>
            </div>
          </header>
          <div class="entity-body">
            <h4 style="margin: 0 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Base Fields (All Document Types)</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">documentType</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Type of document: <code>social_post</code>, <code>tiktok</code>, <code>news_article</code>, <code>internal</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">classification</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Security classification: <code>U</code> (Unclassified), <code>CUI</code>, <code>C</code> (Confidential), <code>S</code> (Secret), <code>TS</code> (Top Secret)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">url</span>
                <div class="field-meta">
                  <span class="field-type">string (URL)</span>
                  <p class="field-desc">Link to the original source. Null for internal documents.</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">publishedDate</span>
                <div class="field-meta">
                  <span class="field-type required">datetime</span>
                  <p class="field-desc">When the document was published (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">publisherId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to the Publisher (e.g., CNN, Reuters, TikTok, Operations Division)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">excerpt</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Brief summary or snippet from the document</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">narrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Narratives this document provides evidence for</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">subNarrativeIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Themes this document relates to</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">personIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">People mentioned in this document</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">organizationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Organizations mentioned in this document</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">locationIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Locations referenced in this document</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">eventIds</span>
                <div class="field-meta">
                  <span class="field-type">string[] (UUID)</span>
                  <p class="field-desc">Events this document reports on</p>
                </div>
              </li>
            </ul>
            
            <h4 style="margin: var(--space-lg) 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Social Post Fields (documentType: social_post)</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">author</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Author information: <code>{ username, displayName, avatarUrl }</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">content</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Full text content of the post</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">media</span>
                <div class="field-meta">
                  <span class="field-type">array</span>
                  <p class="field-desc">Attached media: <code>[{ type, url, altText }]</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">engagement</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Engagement metrics: <code>{ replies, likes, reblogs }</code></p>
                </div>
              </li>
            </ul>
            
            <h4 style="margin: var(--space-lg) 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">TikTok Fields (documentType: tiktok)</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">author</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Creator information: <code>{ username, displayName, avatarUrl }</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">content</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Video caption text</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">video</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Video details: <code>{ url, thumbnailUrl, duration }</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">transcription</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Text transcription of video audio</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">engagement</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Engagement metrics: <code>{ replies, likes, reblogs }</code></p>
                </div>
              </li>
            </ul>
            
            <h4 style="margin: var(--space-lg) 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">News Article Fields (documentType: news_article)</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Article headline</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">author</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Author/byline name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">headerImage</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Header image: <code>{ url, caption }</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">contentBlocks</span>
                <div class="field-meta">
                  <span class="field-type">array</span>
                  <p class="field-desc">Structured content: <code>[{ type, content, portionMark }]</code>. Types: paragraph, heading, image, quote, list</p>
                </div>
              </li>
            </ul>
            
            <h4 style="margin: var(--space-lg) 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Internal Document Fields (documentType: internal)</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">title</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Document title</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">author</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Author or division name</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">department</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Originating department</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">contentBlocks</span>
                <div class="field-meta">
                  <span class="field-type">array</span>
                  <p class="field-desc">Structured content with portion marks: <code>[{ type, content, portionMark }]</code></p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- User -->
        <article id="user" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(16, 185, 129, 0.2); color: #10b981;">◐</div>
            <div class="entity-info">
              <h3>User</h3>
              <p>System users who can annotate documents with highlights and comments</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">username</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Login username (e.g., "nthayer")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">displayName</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Full display name (e.g., "Nicole Thayer")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">role</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Job role (e.g., "Senior Analyst", "Team Lead")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">department</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Department name (e.g., "Intelligence Analysis")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">avatarUrl</span>
                <div class="field-meta">
                  <span class="field-type">string (URL)</span>
                  <p class="field-desc">Path to user's avatar image</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">isCurrentUser</span>
                <div class="field-meta">
                  <span class="field-type">boolean</span>
                  <p class="field-desc">Whether this is the currently logged-in user</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- Highlight -->
        <article id="highlight" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(251, 191, 36, 0.2); color: #fbbf24;">▮</div>
            <div class="entity-info">
              <h3>Highlight</h3>
              <p>Text selections marked by users within document content blocks</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">userId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to User who created the highlight</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">blockIndex</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Index of the content block containing the highlight</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">startOffset</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Character offset where highlight begins</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">endOffset</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Character offset where highlight ends</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">highlightedText</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">The actual text that was highlighted (for display/reference)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">createdAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">When the highlight was created (ISO 8601)</p>
                </div>
              </li>
            </ul>
            <p style="margin-top: var(--space-md); font-size: var(--text-sm); color: var(--text-muted);">
              <strong>Note:</strong> Highlights are stored as embedded arrays within Document objects under the <code>highlights</code> field.
            </p>
          </div>
        </article>

        <!-- Comment -->
        <article id="comment" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(244, 114, 182, 0.2); color: #f472b6;">💬</div>
            <div class="entity-info">
              <h3>Comment</h3>
              <p>User annotations anchored to specific text within document content blocks</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">userId</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Foreign key to User who created the comment</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">blockIndex</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Index of the content block the comment is anchored to</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">anchorStartOffset</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Character offset where anchor text begins</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">anchorEndOffset</span>
                <div class="field-meta">
                  <span class="field-type required">number</span>
                  <p class="field-desc">Character offset where anchor text ends</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">anchorText</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">The text the comment is anchored to (for display/reference)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">content</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">The comment text content</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">createdAt</span>
                <div class="field-meta">
                  <span class="field-type">datetime</span>
                  <p class="field-desc">When the comment was created (ISO 8601)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">replies</span>
                <div class="field-meta">
                  <span class="field-type">array</span>
                  <p class="field-desc">Nested reply objects: <code>[{ id, userId, content, createdAt }]</code></p>
                </div>
              </li>
            </ul>
            <p style="margin-top: var(--space-md); font-size: var(--text-sm); color: var(--text-muted);">
              <strong>Note:</strong> Comments are stored as embedded arrays within Document objects under the <code>comments</code> field.
            </p>
          </div>
        </article>
        
        <!-- Classification System -->
        <article id="classification" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(239, 68, 68, 0.2); color: #ef4444;">◉</div>
            <div class="entity-info">
              <h3>Classification System</h3>
              <p>Security classification levels and portion marking for sensitive documents</p>
            </div>
          </header>
          <div class="entity-body">
            <h4 style="margin: 0 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Classification Levels</h4>
            <div class="classification-reference" style="display: grid; gap: var(--space-sm); margin-bottom: var(--space-lg);">
              <div style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-sm); border-radius: var(--border-radius); background: rgba(34, 197, 94, 0.1);">
                <span style="background: #22c55e; color: white; padding: 2px 8px; border-radius: 3px; font-weight: 600; font-size: 11px;">U</span>
                <span><strong>Unclassified</strong> — Public or uncontrolled information</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-sm); border-radius: var(--border-radius); background: rgba(124, 58, 237, 0.1);">
                <span style="background: #7c3aed; color: white; padding: 2px 8px; border-radius: 3px; font-weight: 600; font-size: 11px;">CUI</span>
                <span><strong>Controlled Unclassified Information</strong> — Requires safeguarding but not classified</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-sm); border-radius: var(--border-radius); background: rgba(59, 130, 246, 0.1);">
                <span style="background: #3b82f6; color: white; padding: 2px 8px; border-radius: 3px; font-weight: 600; font-size: 11px;">C</span>
                <span><strong>Confidential</strong> — Unauthorized disclosure could cause damage</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-sm); border-radius: var(--border-radius); background: rgba(239, 68, 68, 0.1);">
                <span style="background: #ef4444; color: white; padding: 2px 8px; border-radius: 3px; font-weight: 600; font-size: 11px;">S</span>
                <span><strong>Secret</strong> — Unauthorized disclosure could cause serious damage</span>
              </div>
              <div style="display: flex; align-items: center; gap: var(--space-md); padding: var(--space-sm); border-radius: var(--border-radius); background: rgba(249, 115, 22, 0.1);">
                <span style="background: #f97316; color: white; padding: 2px 8px; border-radius: 3px; font-weight: 600; font-size: 11px;">TS</span>
                <span><strong>Top Secret</strong> — Unauthorized disclosure could cause exceptionally grave damage</span>
              </div>
            </div>
            
            <h4 style="margin: var(--space-lg) 0 var(--space-md); color: var(--text-secondary); font-size: var(--text-sm); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">Portion Marks</h4>
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">portionMark</span>
                <div class="field-meta">
                  <span class="field-type">object</span>
                  <p class="field-desc">Portion mark object: <code>{ classification, handling }</code></p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">classification</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Classification level for the portion (U, CUI, C, S, TS)</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">handling</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Handling instructions (e.g., "NOFORN", "REL TO USA", "FOUO")</p>
                </div>
              </li>
            </ul>
            <p style="margin-top: var(--space-md); font-size: var(--text-sm); color: var(--text-muted);">
              <strong>Example portion marks:</strong> <code>(U)</code>, <code>(U//FOUO)</code>, <code>(S//NOFORN)</code>, <code>(TS//SI)</code>
            </p>
          </div>
        </article>

        <!-- Publisher -->
        <article id="publisher" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(180, 83, 9, 0.2); color: #b45309;">⊡</div>
            <div class="entity-info">
              <h3>Publisher</h3>
              <p>Media outlets, social platforms, and news organizations</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string (UUID)</span>
                  <p class="field-desc">Unique identifier</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Display name of the publisher (e.g., "CNN", "Reuters", "TikTok")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">type</span>
                <div class="field-meta">
                  <span class="field-type required">enum</span>
                  <p class="field-desc">Category of the publisher</p>
                  <p class="field-enum">
                    <code>social</code>
                    <code>national_news</code>
                    <code>international_news</code>
                    <code>internal</code>
                  </p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">color</span>
                <div class="field-meta">
                  <span class="field-type">string (hex)</span>
                  <p class="field-desc">Brand color for visual identification (e.g., "#CC0000")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">parent</span>
                <div class="field-meta">
                  <span class="field-type">string</span>
                  <p class="field-desc">Parent category for hierarchical grouping</p>
                </div>
              </li>
            </ul>
          </div>
        </article>

        <!-- PublisherCategory -->
        <article id="publishercategory" class="entity-card">
          <header class="entity-header">
            <div class="entity-icon" style="background: rgba(180, 83, 9, 0.2); color: #b45309;">⊞</div>
            <div class="entity-info">
              <h3>PublisherCategory</h3>
              <p>Groupings for publishers by type (social, national news, etc.)</p>
            </div>
          </header>
          <div class="entity-body">
            <ul class="field-list">
              <li class="field-item">
                <span class="field-name">id</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Category identifier (e.g., "social", "national_news")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">name</span>
                <div class="field-meta">
                  <span class="field-type required">string</span>
                  <p class="field-desc">Display name (e.g., "Social Media", "National News")</p>
                </div>
              </li>
              <li class="field-item">
                <span class="field-name">color</span>
                <div class="field-meta">
                  <span class="field-type">string (hex)</span>
                  <p class="field-desc">Category color for visualizations</p>
                </div>
              </li>
            </ul>
          </div>
        </article>
      </div>
    </section>

    <!-- Relationships -->
    <section class="relationships-section">
      <h2 class="section-title">Relationships</h2>
      <div class="erd-container">
        <table class="relationship-table">
          <thead>
            <tr>
              <th>From Entity</th>
              <th>Relationship</th>
              <th>To Entity</th>
              <th>Cardinality</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(139, 92, 246, 0.15);">
                  <span class="dot" style="background: var(--color-mission)"></span>
                  Mission
                </span>
              </td>
              <td class="relationship-type">contains</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td>1:N</td>
              <td>A mission contains multiple narratives being tracked</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">has</td>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td>1:N</td>
              <td>A narrative can have multiple themes</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>Narratives can mention multiple factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>Narratives can mention multiple people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Narratives can mention multiple organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>Narratives can reference multiple locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Narratives can reference multiple events</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>Themes can mention multiple factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>Themes can mention multiple people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Themes can mention multiple organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>Themes can reference multiple locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Themes can reference multiple events</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td class="relationship-type">contains</td>
              <td>
                <span class="entity-badge" style="background: rgba(96, 165, 250, 0.15);">
                  <span class="dot" style="background: #60a5fa"></span>
                  SubEvent
                </span>
              </td>
              <td>1:N</td>
              <td>An event can contain multiple sub-events</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td class="relationship-type">occurs_at</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:1</td>
              <td>Events occur at a specific location</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td class="relationship-type">involves</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>Events can involve multiple people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td class="relationship-type">involves</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Events can involve multiple organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td class="relationship-type">mentioned_alongside</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>People can be mentioned alongside locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td class="relationship-type">related_to</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>People can be related to other people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td class="relationship-type">affiliated_with</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>People can be affiliated with organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td class="relationship-type">affiliated_with</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>People can be affiliated with factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td class="relationship-type">involved_in</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>People can be involved in events</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td class="relationship-type">mentioned_alongside</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>Organizations can be mentioned alongside locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td class="relationship-type">related_to</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Organizations can be related to other organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td class="relationship-type">affiliated_with</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>Organizations can be affiliated with factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td class="relationship-type">overlaps</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>Factions can overlap with other factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch multiple people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch multiple organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(245, 158, 11, 0.15);">
                  <span class="dot" style="background: var(--color-faction)"></span>
                  Faction
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch multiple factions</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch existing narratives for updates</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch specific themes for activity</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch multiple locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">watches</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Monitors can watch multiple events directly</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">matches</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Events matching monitor criteria (computed)</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">matches</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  SubEvent
                </span>
              </td>
              <td>N:M</td>
              <td>Sub-events matching monitor criteria (computed)</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">matches</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Theme
                </span>
              </td>
              <td>N:M</td>
              <td>Themes matching monitor criteria (computed)</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(20, 184, 166, 0.15);">
                  <span class="dot" style="background: #14b8a6"></span>
                  Monitor
                </span>
              </td>
              <td class="relationship-type">generates</td>
              <td>
                <span class="entity-badge" style="background: rgba(249, 115, 22, 0.15);">
                  <span class="dot" style="background: #f97316"></span>
                  Alert
                </span>
              </td>
              <td>1:N</td>
              <td>A monitor generates multiple alerts over time</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(249, 115, 22, 0.15);">
                  <span class="dot" style="background: #f97316"></span>
                  Alert
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td>N:M</td>
              <td>Alerts can reference narratives that triggered them</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(249, 115, 22, 0.15);">
                  <span class="dot" style="background: #f97316"></span>
                  Alert
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Alerts can reference events that triggered them</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(249, 115, 22, 0.15);">
                  <span class="dot" style="background: #f97316"></span>
                  Alert
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Theme
                </span>
              </td>
              <td>N:M</td>
              <td>Alerts can reference themes that triggered them</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(249, 115, 22, 0.15);">
                  <span class="dot" style="background: #f97316"></span>
                  Alert
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  SubEvent
                </span>
              </td>
              <td>N:M</td>
              <td>Alerts can reference sub-events that triggered them</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">evidences</td>
              <td>
                <span class="entity-badge" style="background: rgba(239, 68, 68, 0.15);">
                  <span class="dot" style="background: var(--color-narrative)"></span>
                  Narrative
                </span>
              </td>
              <td>N:M</td>
              <td>Documents provide evidence for narratives</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">relates to</td>
              <td>
                <span class="entity-badge" style="background: rgba(248, 113, 113, 0.15);">
                  <span class="dot" style="background: #f87171"></span>
                  Theme
                </span>
              </td>
              <td>N:M</td>
              <td>Documents can relate to multiple themes</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(236, 72, 153, 0.15);">
                  <span class="dot" style="background: var(--color-entity)"></span>
                  Person
                </span>
              </td>
              <td>N:M</td>
              <td>Documents mention people</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">mentions</td>
              <td>
                <span class="entity-badge" style="background: rgba(168, 85, 247, 0.15);">
                  <span class="dot" style="background: #a855f7"></span>
                  Organization
                </span>
              </td>
              <td>N:M</td>
              <td>Documents mention organizations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">references</td>
              <td>
                <span class="entity-badge" style="background: rgba(16, 185, 129, 0.15);">
                  <span class="dot" style="background: var(--color-location)"></span>
                  Location
                </span>
              </td>
              <td>N:M</td>
              <td>Documents reference geographic locations</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">reports on</td>
              <td>
                <span class="entity-badge" style="background: rgba(59, 130, 246, 0.15);">
                  <span class="dot" style="background: var(--color-event)"></span>
                  Event
                </span>
              </td>
              <td>N:M</td>
              <td>Documents report on events</td>
            </tr>
            <tr>
              <td>
                <span class="entity-badge" style="background: rgba(6, 182, 212, 0.15);">
                  <span class="dot" style="background: #06b6d4"></span>
                  Document
                </span>
              </td>
              <td class="relationship-type">from</td>
              <td>
                <span class="entity-badge" style="background: rgba(180, 83, 9, 0.15);">
                  <span class="dot" style="background: #b45309"></span>
                  Publisher
                </span>
              </td>
              <td>N:1</td>
              <td>Each document originates from a single publisher</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- JSON Schema Examples -->
    <section class="schema-section">
      <h2 class="section-title">JSON Schema Examples</h2>
      
      <div class="schema-tabs">
        <button class="schema-tab active" data-tab="mission-schema">Mission</button>
        <button class="schema-tab" data-tab="narrative-schema">Narrative</button>
        <button class="schema-tab" data-tab="event-schema">Event</button>
        <button class="schema-tab" data-tab="monitor-schema">Monitor</button>
        <button class="schema-tab" data-tab="alert-schema">Alert</button>
        <button class="schema-tab" data-tab="full-schema">Full Export</button>
      </div>

      <div id="mission-schema" class="schema-content active">
        <div class="code-block">
          <pre><span class="comment">// Mission entity example</span>
{
  <span class="key">"id"</span>: <span class="string">"550e8400-e29b-41d4-a716-446655440000"</span>,
  <span class="key">"name"</span>: <span class="string">"Operation Clarity"</span>,
  <span class="key">"description"</span>: <span class="string">"Track and analyze disinformation campaigns targeting democratic processes in Eastern Europe"</span>,
  <span class="key">"status"</span>: <span class="string">"active"</span>,
  <span class="key">"startDate"</span>: <span class="string">"2025-01-15"</span>,
  <span class="key">"endDate"</span>: <span class="boolean">null</span>,
  <span class="key">"createdAt"</span>: <span class="string">"2025-01-15T08:30:00Z"</span>,
  <span class="key">"updatedAt"</span>: <span class="string">"2026-01-10T14:22:00Z"</span>
}</pre>
        </div>
      </div>

      <div id="narrative-schema" class="schema-content">
        <div class="code-block">
          <pre><span class="comment">// Narrative entity example</span>
{
  <span class="key">"id"</span>: <span class="string">"660e8400-e29b-41d4-a716-446655440001"</span>,
  <span class="key">"missionId"</span>: <span class="string">"550e8400-e29b-41d4-a716-446655440000"</span>,
  <span class="key">"title"</span>: <span class="string">"Election Infrastructure Vulnerability Claims"</span>,
  <span class="key">"description"</span>: <span class="string">"Coordinated messaging claiming widespread vulnerabilities in electronic voting systems"</span>,
  <span class="key">"status"</span>: <span class="string">"active"</span>,
  <span class="key">"threatLevel"</span>: <span class="string">"high"</span>,
  <span class="key">"firstSeen"</span>: <span class="string">"2025-03-10"</span>,
  <span class="key">"lastSeen"</span>: <span class="string">"2026-01-14"</span>,
  <span class="key">"tags"</span>: [<span class="string">"election"</span>, <span class="string">"infrastructure"</span>, <span class="string">"cyber"</span>],
  <span class="key">"factionIds"</span>: [
    <span class="string">"770e8400-e29b-41d4-a716-446655440002"</span>
  ],
  <span class="key">"personIds"</span>: [
    <span class="string">"880e8400-e29b-41d4-a716-446655440010"</span>
  ],
  <span class="key">"organizationIds"</span>: [
    <span class="string">"990e8400-e29b-41d4-a716-446655440020"</span>
  ],
  <span class="key">"locationIds"</span>: [
    <span class="string">"aa0e8400-e29b-41d4-a716-446655440030"</span>
  ],
  <span class="key">"eventIds"</span>: [
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440040"</span>
  ]
}</pre>
        </div>
      </div>

      <div id="event-schema" class="schema-content">
        <div class="code-block">
          <pre><span class="comment">// Event entity example</span>
{
  <span class="key">"id"</span>: <span class="string">"bb0e8400-e29b-41d4-a716-446655440040"</span>,
  <span class="key">"title"</span>: <span class="string">"Viral Social Media Campaign Launch"</span>,
  <span class="key">"description"</span>: <span class="string">"Coordinated posting across multiple platforms with identical messaging and hashtags"</span>,
  <span class="key">"type"</span>: <span class="string">"social_media"</span>,
  <span class="key">"date"</span>: <span class="string">"2025-11-02T14:30:00Z"</span>,
  <span class="key">"locationId"</span>: <span class="string">"aa0e8400-e29b-41d4-a716-446655440030"</span>,
  <span class="key">"personIds"</span>: [
    <span class="string">"880e8400-e29b-41d4-a716-446655440010"</span>,
    <span class="string">"880e8400-e29b-41d4-a716-446655440011"</span>
  ],
  <span class="key">"organizationIds"</span>: [
    <span class="string">"990e8400-e29b-41d4-a716-446655440020"</span>
  ],
  <span class="key">"impact"</span>: <span class="string">"high"</span>
}</pre>
        </div>
      </div>

      <div id="monitor-schema" class="schema-content">
        <div class="code-block">
          <pre><span class="comment">// Monitor entity example</span>
{
  <span class="key">"id"</span>: <span class="string">"cc0e8400-e29b-41d4-a716-446655440050"</span>,
  <span class="key">"name"</span>: <span class="string">"Trump Activity Tracker"</span>,
  <span class="key">"description"</span>: <span class="string">"Monitor narratives and events mentioning Donald Trump with high engagement"</span>,
  <span class="key">"scope"</span>: {
    <span class="comment">// Watch any combination of entity types</span>
    <span class="key">"narrativeIds"</span>: [
      <span class="string">"660e8400-e29b-41d4-a716-446655440001"</span>
    ],
    <span class="key">"themeIds"</span>: [
      <span class="string">"sub-001"</span>,
      <span class="string">"sub-002"</span>
    ],
    <span class="key">"personIds"</span>: [
      <span class="string">"880e8400-e29b-41d4-a716-446655440010"</span>
    ],
    <span class="key">"organizationIds"</span>: [
      <span class="string">"org-010"</span>,
      <span class="string">"org-011"</span>
    ],
    <span class="key">"factionIds"</span>: [
      <span class="string">"770e8400-e29b-41d4-a716-446655440002"</span>
    ],
    <span class="key">"locationIds"</span>: [
      <span class="string">"990e8400-e29b-41d4-a716-446655440001"</span>
    ],
    <span class="key">"eventIds"</span>: [
      <span class="string">"bb0e8400-e29b-41d4-a716-446655440040"</span>
    ]
  },
  <span class="key">"options"</span>: {
    <span class="key">"includeSubEvents"</span>: <span class="boolean">true</span>,
    <span class="key">"includeSubNarratives"</span>: <span class="boolean">true</span>,
    <span class="key">"includeRelatedEvents"</span>: <span class="boolean">true</span>
  },
  <span class="key">"triggers"</span>: {
    <span class="key">"newNarrative"</span>: <span class="boolean">true</span>,
    <span class="key">"newEvent"</span>: <span class="boolean">true</span>,
    <span class="key">"volumeSpike"</span>: {
      <span class="key">"threshold"</span>: <span class="number">500</span>,
      <span class="key">"timeWindow"</span>: <span class="string">"24h"</span>
    },
    <span class="key">"sentimentShift"</span>: {
      <span class="key">"threshold"</span>: <span class="number">0.15</span>,
      <span class="key">"direction"</span>: <span class="string">"any"</span>
    },
    <span class="key">"factionEngagement"</span>: <span class="boolean">null</span>
  },
  <span class="key">"enabled"</span>: <span class="boolean">true</span>,
  <span class="key">"createdAt"</span>: <span class="string">"2025-06-01T09:00:00Z"</span>,
  <span class="key">"lastTriggered"</span>: <span class="string">"2026-01-20T14:30:00Z"</span>,

  <span class="comment">// Computed fields (populated at runtime when evaluating monitor)</span>
  <span class="key">"matchedNarrativeIds"</span>: [
    <span class="string">"660e8400-e29b-41d4-a716-446655440001"</span>,
    <span class="string">"660e8400-e29b-41d4-a716-446655440005"</span>
  ],
  <span class="key">"matchedSubNarrativeIds"</span>: [
    <span class="string">"sub-009"</span>,
    <span class="string">"sub-010"</span>
  ],
  <span class="key">"matchedEventIds"</span>: [
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440040"</span>,
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440041"</span>
  ],
  <span class="key">"matchedSubEventIds"</span>: [
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440042"</span>
  ]
}</pre>
        </div>
      </div>

      <div id="alert-schema" class="schema-content">
        <div class="code-block">
          <pre><span class="comment">// Alert entity example</span>
{
  <span class="key">"id"</span>: <span class="string">"dd0e8400-e29b-41d4-a716-446655440060"</span>,
  <span class="key">"monitorId"</span>: <span class="string">"cc0e8400-e29b-41d4-a716-446655440050"</span>,
  <span class="key">"type"</span>: <span class="string">"volume_spike"</span>,
  <span class="key">"title"</span>: <span class="string">"Volume spike detected for Trump Activity Tracker"</span>,
  <span class="key">"description"</span>: <span class="string">"847 mentions detected in the last 24 hours, exceeding threshold of 500"</span>,
  <span class="key">"severity"</span>: <span class="string">"high"</span>,
  <span class="key">"triggeredAt"</span>: <span class="string">"2026-01-20T14:30:00Z"</span>,
  <span class="key">"acknowledged"</span>: <span class="boolean">false</span>,
  <span class="key">"relatedNarrativeIds"</span>: [
    <span class="string">"660e8400-e29b-41d4-a716-446655440001"</span>,
    <span class="string">"660e8400-e29b-41d4-a716-446655440005"</span>
  ],
  <span class="key">"relatedSubNarrativeIds"</span>: [
    <span class="string">"sub-009"</span>,
    <span class="string">"sub-010"</span>
  ],
  <span class="key">"relatedEventIds"</span>: [
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440040"</span>
  ],
  <span class="key">"relatedSubEventIds"</span>: [
    <span class="string">"bb0e8400-e29b-41d4-a716-446655440042"</span>
  ],
  <span class="key">"metadata"</span>: {
    <span class="key">"actualValue"</span>: <span class="number">847</span>,
    <span class="key">"threshold"</span>: <span class="number">500</span>,
    <span class="key">"timeWindow"</span>: <span class="string">"24h"</span>,
    <span class="key">"percentOver"</span>: <span class="number">69.4</span>
  }
}</pre>
        </div>
      </div>

      <div id="full-schema" class="schema-content">
        <div class="code-block">
          <pre><span class="comment">// Complete data export structure</span>
{
  <span class="key">"version"</span>: <span class="string">"1.0"</span>,
  <span class="key">"exportedAt"</span>: <span class="string">"2026-01-16T10:00:00Z"</span>,
  
  <span class="comment">// Core Intelligence Model</span>
  <span class="key">"missions"</span>: [
    { <span class="comment">/* Mission objects */</span> }
  ],
  <span class="key">"narratives"</span>: [
    { <span class="comment">/* Narrative objects */</span> }
  ],
  <span class="key">"subNarratives"</span>: [
    { <span class="comment">/* Theme objects */</span> }
  ],
  <span class="key">"topics"</span>: [
    { <span class="comment">/* Topic objects */</span> }
  ],
  <span class="key">"factions"</span>: [
    { <span class="comment">/* Faction objects */</span> }
  ],
  <span class="key">"factionOverlaps"</span>: [
    { <span class="comment">/* FactionOverlap objects */</span> }
  ],
  <span class="key">"persons"</span>: [
    { <span class="comment">/* Person objects */</span> }
  ],
  <span class="key">"organizations"</span>: [
    { <span class="comment">/* Organization objects */</span> }
  ],
  <span class="key">"locations"</span>: [
    { <span class="comment">/* Location objects */</span> }
  ],
  <span class="key">"events"</span>: [
    { <span class="comment">/* Event objects */</span> }
  ],
  
  <span class="comment">// Document & Collaboration Model</span>
  <span class="key">"documents"</span>: [
    { <span class="comment">/* Document objects (includes highlights, comments) */</span> }
  ],
  <span class="key">"publishers"</span>: [
    { <span class="comment">/* Publisher objects */</span> }
  ],
  <span class="key">"publisherCategories"</span>: [
    { <span class="comment">/* PublisherCategory objects */</span> }
  ],
  <span class="key">"users"</span>: [
    { <span class="comment">/* User objects */</span> }
  ],
  
  <span class="comment">// Monitor & Alert System</span>
  <span class="key">"monitors"</span>: [
    { <span class="comment">/* Monitor objects */</span> }
  ],
  <span class="key">"alerts"</span>: [
    { <span class="comment">/* Alert objects */</span> }
  ]
}</pre>
        </div>
      </div>
    </section>
  </main>

  <footer class="doc-footer">
    <p>Primer Data Model Reference v2.0 • Updated January 2026</p>
  </footer>

  <script>
    // Dropdown functionality
    const dropdowns = document.querySelectorAll('.nav-dropdown');
    dropdowns.forEach((dropdown) => {
      const trigger = dropdown.querySelector('.nav-dropdown-trigger, .avatar-trigger');
      if (trigger) {
        trigger.addEventListener('click', (e) => {
          e.stopPropagation();
          dropdowns.forEach(other => {
            if (other !== dropdown) other.classList.remove('open');
          });
          dropdown.classList.toggle('open');
        });
      }
    });
    
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.nav-dropdown')) {
        dropdowns.forEach(dropdown => dropdown.classList.remove('open'));
      }
    });

    // Tab switching functionality
    document.querySelectorAll('.schema-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs and content
        document.querySelectorAll('.schema-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.schema-content').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked tab and corresponding content
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    // Smooth scroll for navigation
    document.querySelectorAll('.nav-pill').forEach(pill => {
      pill.addEventListener('click', (e) => {
        e.preventDefault();
        const target = document.querySelector(pill.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });
  </script>
</body>
</html>
