/**
 * Table Styles
 * Data tables and document table components
 */

/* Tables */
.table-container {
  overflow-x: auto;
}

.table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--text-sm);
}

.table th,
.table td {
  padding: var(--space-sm) var(--space-md);
  text-align: left;
  border-bottom: 1px solid var(--border-subtle);
}

.table th {
  font-size: var(--text-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: var(--text-muted);
  background: var(--bg-tertiary);
}

.table tr:hover td {
  background: var(--bg-hover);
}

/* Document Table */
.document-table-container {
  border: 1px solid var(--border-subtle);
  border-radius: var(--border-radius);
  overflow: hidden;
}

.document-table {
  font-size: 13px;
}

.document-table th {
  position: sticky;
  top: 0;
  z-index: 1;
  white-space: nowrap;
}

.document-table th.sortable {
  cursor: pointer;
  user-select: none;
}

.document-table th.sortable:hover {
  background: var(--bg-hover);
}

.document-table th .th-content {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.document-table .sort-icon {
  opacity: 0.4;
  transition: opacity 0.15s;
}

.document-table .sort-icon-active {
  opacity: 1;
  color: var(--accent-primary);
}

.document-table th:hover .sort-icon {
  opacity: 0.7;
}

/* Column widths */
.doc-col-classification {
  width: 45px;
  min-width: 40px;
}

.doc-col-documentType {
  width: 100px;
  min-width: 80px;
}

.doc-col-publisherName {
  width: 130px;
  min-width: 100px;
}

.doc-col-publisherType {
  width: 80px;
  min-width: 70px;
}

.doc-col-title {
  min-width: 200px;
}

/* Unread document indicator */
.doc-unread-indicator {
  display: inline-block;
  width: 8px;
  height: 8px;
  background-color: var(--accent-primary);
  border-radius: 50%;
  margin-right: var(--space-sm);
  flex-shrink: 0;
  vertical-align: middle;
}

/* Viewer sidebar unread indicator */
.document-viewer-list-item-header {
  display: flex;
  align-items: flex-start;
  gap: var(--space-xs);
}

.document-viewer-list-item-header .doc-unread-indicator {
  margin-top: 5px;
  margin-right: 0;
}

.doc-col-excerpt {
  width: 400px;
  min-width: 280px;
}

.doc-col-publishedDate {
  width: 120px;
  min-width: 110px;
}

/* Entity columns (narratives, themes, events, locations, persons, organizations, factions, topics) */
.doc-col-narratives,
.doc-col-themes,
.doc-col-events,
.doc-col-topics {
  width: 180px;
  min-width: 140px;
}

.doc-col-locations,
.doc-col-persons,
.doc-col-organizations,
.doc-col-factions {
  width: 160px;
  min-width: 120px;
}

/* Publisher name cell */
.doc-publisher-name-cell {
  display: flex;
  align-items: center;
  gap: 8px;
}

.doc-publisher-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--text-muted);
  flex-shrink: 0;
}

.doc-publisher-name {
  font-weight: 500;
  color: var(--text-primary);
}

/* Publisher type badge */
.doc-publisher-type-badge {
  display: inline-block;
  font-size: 12px;
  font-weight: 500;
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}

.doc-publisher-type-badge.doc-publisher-type-social {
  background: rgba(176, 122, 161, 0.15);
  color: #B07AA1;
}

.doc-publisher-type-badge.doc-publisher-type-national-news {
  background: rgba(78, 121, 167, 0.15);
  color: #4E79A7;
}

.doc-publisher-type-badge.doc-publisher-type-international-news {
  background: rgba(89, 161, 79, 0.15);
  color: #59A14F;
}

.doc-publisher-type-badge.doc-publisher-type-internal {
  background: rgba(107, 114, 128, 0.15);
  color: #6b7280;
}

/* Title cell */
.doc-title-link {
  display: inline-flex;
  align-items: baseline;
  gap: 4px;
  color: var(--text-primary);
  text-decoration: none;
  line-height: 1.4;
  transition: color 0.15s;
}

.doc-title-link:hover {
  color: var(--accent-primary);
}

.doc-external-icon {
  opacity: 0.4;
  flex-shrink: 0;
  transform: translateY(1px);
}

.doc-title-link:hover .doc-external-icon {
  opacity: 0.8;
}

/* Excerpt as inline (below title) */
.doc-excerpt {
  margin: 6px 0 0 0;
  font-size: 12px;
  color: var(--text-muted);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Excerpt as column */
.doc-excerpt-text {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Date cell */
.doc-col-date td,
.document-table .doc-col-date {
  vertical-align: middle;
}

.doc-date {
  display: block;
  color: var(--text-secondary);
  font-size: 12px;
  line-height: 1.3;
}

.doc-time {
  display: block;
  color: var(--text-muted);
  font-size: 12px;
  line-height: 1.3;
}

/* Entity cells (narratives, themes, events, locations, persons, organizations, factions, topics) */
.doc-entity-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.doc-entity-link {
  display: block;
  font-size: 12px;
  color: var(--accent-primary);
  text-decoration: none;
  line-height: 1.3;
  transition: color 0.15s, text-decoration 0.15s;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
  cursor: pointer;
}

.doc-entity-link:hover {
  color: var(--accent-primary-hover, var(--accent-primary));
  text-decoration: underline;
}

.doc-entity-more {
  font-size: 12px;
  color: var(--text-muted);
}

/* Details view entity lists (People, Organizations) */
.details-entity-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

.details-entity-item {
  border-bottom: 1px solid var(--border-subtle);
}

.details-entity-item:last-child {
  border-bottom: none;
}

.details-entity-link {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-sm) var(--space-md);
  color: var(--text-primary);
  text-decoration: none;
  font-size: 13px;
  transition: background-color 0.15s, color 0.15s;
}

.details-entity-link:hover {
  background-color: var(--bg-hover);
  color: var(--accent-primary);
}

.details-entity-arrow {
  opacity: 0.4;
  transition: opacity 0.15s, transform 0.15s;
}

.details-entity-link:hover .details-entity-arrow {
  opacity: 1;
  transform: translateX(2px);
}

.doc-empty-cell {
  color: var(--text-muted);
}

/* Legacy support for narrative-specific classes */
.doc-narratives-list { display: flex; flex-direction: column; gap: 4px; }
.doc-narrative-link { display: block; font-size: 12px; color: var(--text-secondary); text-decoration: none; line-height: 1.3; transition: color 0.15s; }
.doc-narrative-link:hover { color: var(--accent-primary); }
.doc-narratives-more { font-size: 12px; color: var(--text-muted); }
.doc-no-narratives { color: var(--text-muted); }

/* Row states */
.document-row.clickable {
  cursor: pointer;
}

.document-row.clickable:hover td {
  background: var(--bg-hover);
}

/* Count indicator */
.document-table-count {
  padding: var(--space-sm) var(--space-md);
  font-size: var(--text-xs);
  color: var(--text-muted);
  text-align: center;
  border-top: 1px solid var(--border-subtle);
  background: var(--bg-tertiary);
}

/* ============================================
   Quotes & Activities Tables
   ============================================ */

/* Container styling */
.quotes-table-container,
.activities-table-container {
  border-radius: 0;
  overflow: auto;
  max-height: 300px;
}

/* Table base styles */
.quotes-table,
.activities-table {
  font-size: 13px;
  margin: 0;
}

.quotes-table th,
.activities-table th {
  position: sticky;
  top: 0;
  z-index: 1;
  white-space: nowrap;
}

/* Quotes table column widths */
.quotes-col-speaker {
  width: 140px;
  min-width: 100px;
}

.quotes-col-text {
  min-width: 200px;
}

/* Activities table column widths */
.activities-col-actor {
  width: 140px;
  min-width: 100px;
}

.activities-col-action {
  width: 140px;
  min-width: 100px;
}

.activities-col-target {
  min-width: 150px;
}

/* Speaker/Actor name styling */
.speaker-name,
.actor-name {
  font-weight: 500;
  color: var(--text-primary);
}

.speaker-person,
.actor-person {
  color: var(--accent-person, #4E79A7);
}

.speaker-org,
.actor-org {
  color: var(--accent-org, #59A14F);
}

/* Quote text styling */
.quote-text {
  font-style: italic;
  color: var(--text-secondary);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Activity action styling */
.activity-action {
  font-weight: 500;
  color: var(--text-primary);
}

/* Activity target styling */
.activity-target {
  color: var(--text-secondary);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Row hover state */
.quotes-table-row:hover td,
.activities-table-row:hover td {
  background: var(--bg-hover);
}

/* Empty state for quotes/activities */
.quotes-table-container .empty-state,
.activities-table-container .empty-state {
  padding: var(--space-lg);
  text-align: center;
  color: var(--text-muted);
  font-size: 13px;
}
